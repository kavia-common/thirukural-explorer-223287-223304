{"is_source_file": true, "format": "Python", "description": "This file is the main API server implementation using FastAPI for serving Thirukural data. It defines API endpoints including health check and random Thirukural retrieval, loads dataset from a JSON file, and sets up middleware for CORS.", "external_files": ["src/api/models", "data/thirukural.json"], "external_methods": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.middleware.cors.CORSMiddleware", "json.load"], "published": ["health_check", "get_random_thirukural"], "classes": [], "methods": [{"name": "List[Dict[str,Any]] _load_dataset()", "description": "Loads and validates the Thirukural dataset from a JSON file.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Health check endpoint returning a simple 'Healthy' message.", "scope": "", "scopeKind": ""}, {"name": "ThirukuralOut get_random_thirukural()", "description": "Returns a random Thirukural entry from the dataset.", "scope": "", "scopeKind": ""}], "calls": ["json.load", "os.path.join", "os.path.dirname", "random.choice", "ThirukuralOut(**item)"], "search-terms": ["Thirukural Backend API", "random Thirukural endpoint", "dataset loading", "FastAPI middleware setup", "health check"], "state": 2, "file_id": 2, "knowledge_revision": 14, "git_revision": "a3e0ccc5e1e6ac043ea96bdb91b1ddbf4bec30aa", "revision_history": [{"8": "e3512ac554c7b1cbf2f8ec933de4fa93fe5aff01"}, {"14": "a3e0ccc5e1e6ac043ea96bdb91b1ddbf4bec30aa"}], "ctags": [{"_type": "tag", "name": "_DATASET", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/main.py", "pattern": "/^_DATASET = _load_dataset()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_DATASET", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/main.py", "pattern": "/^_DATASET: List[Dict[str, Any]] = []$/", "language": "Python", "typeref": "typename:List[Dict[str, Any]]", "kind": "variable"}, {"_type": "tag", "name": "_DATA_FILE_PATH", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/main.py", "pattern": "/^_DATA_FILE_PATH = os.path.join(os.path.dirname(__file__), \"data\", \"thirukural.json\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_load_dataset", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/main.py", "pattern": "/^def _load_dataset() -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_random_thirukural", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/main.py", "pattern": "/^def get_random_thirukural() -> ThirukuralOut:$/", "language": "Python", "typeref": "typename:ThirukuralOut", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "64aa58d87241bbca8209791db96c12b1", "format-version": 4, "code-base-name": "thirukural_backend", "filename": "thirukural_backend/src/api/main.py", "fields": [{"name": "_DATASET = _load_dataset()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[Dict[str, Any]] _DATASET", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_DATA_FILE_PATH = os.path.join(os.path.dirname(__file__), \"data\", \"thirukural.json\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}]}