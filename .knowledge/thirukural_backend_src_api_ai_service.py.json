{"is_source_file": true, "format": "Python", "description": "A Python source file defining configuration and API logic for AI-based analysis of Thirukural verses. It includes environment configuration, a function to analyze a verse with optional external AI calls, and placeholder logic for testing and local usage.", "external_files": ["os", "typing", "pydantic"], "external_methods": ["os.getenv"], "published": ["analyze_kural_for_user"], "classes": [{"name": "AIConfig", "description": "Configuration class encapsulating environment-based settings for AI integration, such as API keys and model selection."}], "methods": [{"name": "\"AIConfig\" from_env(cls)", "description": "Creates an AIConfig instance by loading environment variables safely.", "scope": "AIConfig", "scopeKind": "class"}, {"name": "Dict[str,Any] analyze_kural_for_user(payload: Dict[str, Any], user_name: str = \"Al Ayman\")", "description": "Analyzes a Thirukural and provides an explanation, optionally calling an external AI service if configured.", "scope": "", "scopeKind": ""}], "calls": ["AIConfig.from_env", "os.getenv"], "search-terms": ["ai_service", "Thirukural analysis", "environment configuration", "external AI call", "OpenAI integration", "configuration class", "analyze_kural"], "state": 2, "file_id": 9, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "AIConfig", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/ai_service.py", "pattern": "/^class AIConfig(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "analyze_kural_for_user", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/ai_service.py", "pattern": "/^def analyze_kural_for_user(payload: Dict[str, Any], user_name: str = \"Al Ayman\") -> Dict[str, An/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(payload: Dict[str, Any], user_name: str = \"Al Ayman\")"}, {"_type": "tag", "name": "disable_external_calls", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/ai_service.py", "pattern": "/^    disable_external_calls: bool = Field(default=False, description=\"If true, skip calling exter/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "AIConfig", "scopeKind": "class"}, {"_type": "tag", "name": "from_env", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/ai_service.py", "pattern": "/^    def from_env(cls) -> \"AIConfig\":$/", "language": "Python", "typeref": "typename:\"AIConfig\"", "kind": "member", "signature": "(cls)", "scope": "AIConfig", "scopeKind": "class"}, {"_type": "tag", "name": "openai_api_key", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/ai_service.py", "pattern": "/^    openai_api_key: Optional[str] = Field(default=None, description=\"OpenAI API key from OPENAI_/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "AIConfig", "scopeKind": "class"}, {"_type": "tag", "name": "openai_model", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223304/thirukural_backend/src/api/ai_service.py", "pattern": "/^    openai_model: str = Field(default=\"gpt-5-nano\", description=\"OpenAI model name from OPENAI_M/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AIConfig", "scopeKind": "class"}], "hash": "51e7b171eb5f906693eb928b91643495", "format-version": 4, "code-base-name": "thirukural_backend", "filename": "thirukural_backend/src/api/ai_service.py", "fields": [{"name": "bool disable_external_calls", "scope": "AIConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] openai_api_key", "scope": "AIConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "str openai_model", "scope": "AIConfig", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"23": ""}]}